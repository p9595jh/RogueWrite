<ng-flash-message></ng-flash-message>

<div class="mdl-demo mdl-base">
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-tabs">

    <!-- header for large display -->
    <header class="mdl-layout__header mdl-layout__header--scroll mdl-color--primary"
      style="background-color: rgb(143, 143, 226);" *ngIf="!router.url.startsWith('/play')">

      <!-- spacing -->
      <div class="mdl-layout--large-screen-only mdl-layout__header-row"></div>
      
      <!-- title -->
      <div class="mdl-layout--large-screen-only mdl-layout__header-row">
        <!-- <h3 [routerLink]="['/']" style="cursor: pointer; font-family: 'Ubuntu', sans-serif;">{{siteName}}</h3> -->
        <img src="/images/title.png" [routerLink]="['/']" style="cursor: pointer; width: auto; height: 230%;" />
        <div class="mdl-layout-spacer"></div>
        <nav class="mdl-navigation" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{exact:true}" >
          <a class="mdl-navigation__link" *ngIf="!authService.loggedIn()" [routerLink]="['/login']">LOGIN</a>
          <a class="mdl-navigation__link" *ngIf="authService.loggedIn()" [routerLink]="['/profile']">PROFILE</a>
          <a class="mdl-navigation__link" *ngIf="authService.loggedIn()" (click)="onLogoutClick()" href="#">LOGOUT</a>
        </nav>
      </div>
      
      <!-- spacing -->
      <div class="mdl-layout--large-screen-only mdl-layout__header-row"></div>

      <!-- nav bar -->
      <nav mat-tab-nav-bar mat-stretch-tabs
        mat-align-tabs="center"
        [color]="'primary'"
        [backgroundColor]="'accent'"
        style="border-bottom-color: black;">
        <a mat-tab-link *ngFor="let link of navLinks"
          (click)="activeLink = link.path"
          [routerLink]="[link.path]"
          [active]="activeLink == link.path">{{link.label}}</a>
      </nav>

    </header>

    <!-- header for mobile -->
    <header class="mdl-layout__header--scroll mdl-layout--small-screen-only mdl-color--primary">
      <nav class="navbar navbar-dark fixed-top bg-dark">
        <div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <img src="/images/title.png" style="height: 55px; width: auto;" [routerLink]="['/']" />
        </div>
        <table id="header-sm-table">
          <tr>
            <td *ngIf="!authService.loggedIn()">
              <a [routerLink]="['/login']" class="header-sm-link" id="header-sm-login">LOGIN</a>
            </td>
            <td *ngIf="authService.loggedIn()">
              <a [routerLink]="['/profile']" class="header-sm-link">PROFILE</a>
            </td>
            <td *ngIf="authService.loggedIn()">
              <a (click)="onLogoutClick()" href="#" class="header-sm-link">LOGOUT</a>
            </td>
          </tr>
        </table>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active" *ngFor="let link of navLinks"
              data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse"
              aria-expanded="false" aria-label="Toggle navigation">
              <a class="nav-link header-sm-link" [routerLink]="[link.path]">{{link.label}}</a>
            </li>
          </ul>
        </div>
      </nav>
      <br/><br/><br/>
    </header>

    <main class="mdl-layout__content">
      <!-- <div class="mdl-layout__tab-panel is-active" id="overview"> -->
      <div class="is-active" id="overview">
        <div *ngIf="router.url != '/'"><br/><br/></div>
        <router-outlet></router-outlet>
        <br/><br/>
      </div>

      <!-- footer -->
      <footer class="mdl-mega-footer">
        <div class="mdl-mega-footer--bottom-section">
          <div class="mdl-logo">
            powered by Project RogueWrite
          </div>
          <ul class="mdl-mega-footer--link-list">
            <li><a target="_blank" href="https://getmdl.io/index.html">MDL</a></li>
            <li><a target="_blank" href="https://material.angular.io/">Angular Material</a></li>
            <li><a target="_blank" href="https://github.com/p9595jh/RogueWrite">Github</a></li>
          </ul>
        </div>
      </footer>
      <!-- footer -->

    </main>
    <div *ngIf="router.url.startsWith('/play')" style="background-color: white;">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>
