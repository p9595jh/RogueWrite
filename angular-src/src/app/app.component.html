<ng-flash-message class="mdl-layout--large-screen-only"></ng-flash-message>

<div class="mdl-demo mdl-base">
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-tabs">

    <!-- header for large display -->
    <mat-toolbar class="mdl-layout--large-screen-only mdl-shadow--2dp mdl-layout__header" style="background-color: white;">
      <mat-toolbar-row>
        <img src="/images/title.png" [routerLink]="['/']" style="cursor: pointer; width: 210px; height: auto; padding-left: 10px;" />
        <span style="flex: 1 1 auto;"></span>
        <a mat-button *ngFor="let link of navLinks" color="primary"
          [routerLink]="[link.path]">{{link.label}}</a>
        <a mat-button *ngFor="let link of moreLinks"
          [routerLink]="[link.path]">{{link.label}}</a>
        <a mat-icon-button *ngIf="!authService.loggedIn()" [routerLink]="['/login']">
          <mat-icon>lock</mat-icon>
        </a>
        <a mat-icon-button *ngIf="authService.loggedIn()" [routerLink]="['/profile']">
          <mat-icon>account_circle</mat-icon>
        </a>
        <a mat-icon-button *ngIf="authService.loggedIn()" (click)="onLogoutClick()" href="#">
          <mat-icon>lock_open</mat-icon>
        </a>
      </mat-toolbar-row>
    </mat-toolbar>

    <!-- header for mobile -->
    <header class="mdl-layout__header--scroll mdl-layout--small-screen-only">
      <nav class="navbar navbar-white fixed-top bg-white mdl-shadow--2dp">
        <div>
          <button mat-icon-button type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <mat-icon class="header-sm-icon">reorder</mat-icon>
          </button>
          <img src="/images/title.png" style="height: 20px; width: auto;" [routerLink]="['/']" />
        </div>
        <table id="header-sm-table">
          <tr>
            <td *ngIf="!authService.loggedIn()">
              <a mat-icon-button [routerLink]="['/login']">
                <mat-icon class="header-sm-icon">lock</mat-icon>
              </a>
            </td>
            <td *ngIf="authService.loggedIn()">
              <a mat-icon-button [routerLink]="['/profile']">
                <mat-icon class="header-sm-icon">account_circle</mat-icon>
              </a>
            </td>
            <td *ngIf="authService.loggedIn()">
              <a mat-icon-button (click)="onLogoutClick()" href="#">
                <mat-icon class="header-sm-icon">lock_open</mat-icon>
              </a>
            </td>
          </tr>
        </table>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active" *ngFor="let link of navLinks"
              data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse"
              aria-expanded="false" aria-label="Toggle navigation">
              <a class="nav-link header-sm-link" [routerLink]="[link.path]">{{link.label}}</a>
            </li>
            <li class="nav-item active" *ngFor="let link of moreLinks"
              data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse"
              aria-expanded="false" aria-label="Toggle navigation">
              <a class="nav-link header-sm-link" [routerLink]="[link.path]">{{link.label}}</a>
            </li>
          </ul>
        </div>
      </nav>
      <ng-flash-message class="mdl-layout--small-screen-only"></ng-flash-message>
      <br/><br/>
    </header>

    <main class="mdl-layout__content">
      <!-- <div class="mdl-layout__tab-panel is-active" id="overview"> -->
      <div class="is-active" id="overview">
        <div *ngIf="router.url != '/'"><br/><br/></div>
        <router-outlet></router-outlet>
        <br/><br/>
      </div>

      <!-- footer -->
      <footer class="mdl-mega-footer">
        <div class="mdl-mega-footer--bottom-section">
          <div class="mdl-logo">
            powered by Project RogueWrite
          </div>
          <ul class="mdl-mega-footer--link-list">
            <li><a target="_blank" href="https://getmdl.io/index.html">MDL</a></li>
            <li><a target="_blank" href="https://material.angular.io/">Angular Material</a></li>
            <li><a target="_blank" href="https://github.com/p9595jh/RogueWrite">Github</a></li>
          </ul>
        </div>
      </footer>
      <!-- footer -->

    </main>
    <div *ngIf="router.url.startsWith('/play')" style="background-color: white;">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>
